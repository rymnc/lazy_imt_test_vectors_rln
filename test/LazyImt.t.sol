// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Test, console2} from "forge-std/Test.sol";
import {LazyIMT, LazyIMTData} from "imt.sol/LazyIMT.sol";

contract LazyIMTTest is Test {
    LazyIMTData public data;
    uint256 _root;

    function init(uint8 depth) internal {
        LazyIMT.init(data, depth);
    }

    function reset() internal {
        LazyIMT.reset(data);
    }

    function insert(uint256 leaf) internal {
        LazyIMT.insert(data, leaf);
    }

    function root() internal view returns (uint256) {
        return LazyIMT.root(data);
    }

    function setUp() public {
        init(20);
    }

    function testInsertions() public {
        insert(19143711682366759980911001457853255795836264632723844153354310748778748156460);
        insert(16984765328852711772291441487727981184905800779020079168989152080434188364678);
        insert(10972315136095845343447418815139813428649316683283020632475608655814722712541);
        insert(2709631781045191277266130708832884002577134582503944059038971337978087532997);
        insert(8255654132980945447086418574686169461187805238257784695584517016324877809505);
        insert(20291701150251695209910387548168084091751201746043024067531503187703236470983);
        insert(11817872986033932471261438074921403500882957864164537515599299873089437746577);
        insert(18475838919635792169148272767721284591038756730004222133003018558598315558783);
        insert(10612118277928165031660389522171737855229037400929675201853245490188277695983);
        insert(17318633845296358766427229711888486415250435256643711009388405482885762601797);

        console2.log("root: %s", root());
    }
}
